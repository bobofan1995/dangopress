function isHidden(a){a=window.getComputedStyle(a);return"none"===a.display||"hidden"===a.visibility}var addComment={moveForm:function(a,b,c,d){var e=this.I(a),f=this.I(c),h=this.I("cancel-comment-reply-link"),k=this.I("comment_parent"),l=this.I("comment_post_ID");a=f.getElementsByTagName("form")[0];if(e&&f&&h&&k&&a){this.respondId=c;d=d||!1;this.I("wp-temp-form-div")||(c=document.createElement("div"),c.id="wp-temp-form-div",c.style.display="none",f.parentNode.insertBefore(c,f));e.parentNode.insertBefore(f,e.nextSibling);l&&d&&(l.value=d);k.value=b;h.style.display="";h.onclick=function(){var a=addComment,b=a.I("wp-temp-form-div"),c=a.I(a.respondId);if(b&&c)return a.I("comment_parent").value="0",b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),this.style.display="none",this.onclick=null,!1};try{for(b=0;b<a.elements.length;b++){var g=a.elements[b];var m=!1;if("getComputedStyle"in window)var n=window.getComputedStyle(g);else document.documentElement.currentStyle&&(n=g.currentStyle);if(0>=g.offsetWidth&&0>=g.offsetHeight||"hidden"===n.visibility)m=!0;if("hidden"!==g.type&&!g.disabled&&!m){g.focus();break}}}catch(p){}return!1}},I:function(a){return document.getElementById(a)}};SidebarFollow=function(){this.config={element:null,distanceToTop:0};this.cache={originalToTop:0,prevElement:null,parentToTop:0,placeholder:document.createElement("div")}};SidebarFollow.prototype={init:function(a){this.config=a||this.config;var b=this,c=document.getElementById(b.config.element),d=document.getElementById(b.config.prevElement);if(c){for(d=b._getPrevElement(c);0>d.offsetHeight&&(d=b._getPrevElement(d),d););b.cache.prevElement=d;var e=c.parentNode;a=b._getCumulativeOffset(e).top;var f=parseInt(e.style.borderTop,10);e=parseInt(e.style.paddingTop,10);b.cache.parentToTop=a+f+e;b._addListener(window,"scroll",function(){b._scrollScreen({element:c,prevElement:d,_self:b})});b._addListener(window,"resize",function(){b._scrollScreen({element:c,prevElement:d,_self:b})})}},_scrollScreen:function(a){var b=a._self,c=a.element,d=a.prevElement;a=b.config.distanceToTop;var e=parseInt(document.getElementsByTagName("body")[0].style.top,10);isNaN(e)||(a+=e);e="fixed"===c.style.position?b._getScrollY():b._getCumulativeOffset(c).top-a;d=b._getCumulativeOffset(d).top+b._getVisibleSize(d).height;if(b._getScrollY()>e)d=b._getVisibleSize(c).height,b.cache.placeholder.style.height=d+"px",c.parentNode.insertBefore(b.cache.placeholder,c),b.cache.originalToTop=e,c.style.top=a+"px",c.style.position="fixed";else if(b.cache.originalToTop>e||d>e)if(a=b.cache.placeholder.parentNode)a.removeChild(b.cache.placeholder),c.style.position="static"},_getCumulativeOffset:function(a){var b={left:0,top:0};do b.left+=a.offsetLeft||0,b.top+=a.offsetTop||0,a=a.offsetParent;while(a);return b},_getVisibleSize:function(a){var b={width:0,height:0};b.width=a.offsetWidth;b.height=a.offsetHeight;return b},_getScrollY:function(){return"undefined"!=typeof window.pageYOffset?window.pageYOffset:"undefined"!=typeof document.compatMode&&"BackCompat"!=document.compatMode?document.documentElement.scrollTop:document.body.scrollTop},_addListener:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),!0):a.attachEvent?(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event)},a.attachEvent("on"+b,a[b+c]),!0):!1},_getPrevElement:function(a){for(a=a.previousSibling;1!==a.nodeType;)a=a.previousSibling;return a}};function switchTab(a){a=this.parentNode.dataset.selected;this.parentNode.children[a].classList.remove("selected");this.classList.add("selected");this.parentNode.dataset.selected=this.dataset.position;var b=this.parentNode.parentNode.nextSibling,c=b.children;a=b.dataset.selected;c[a].classList.add("hide");c[this.dataset.position].classList.remove("hide");b.dataset.selected=this.dataset.position}document.addEventListener("DOMContentLoaded",function(a){(new SidebarFollow).init({element:"#sidebar-follow",distanceToTop:70});document.querySelectorAll(".adsbygoogle").forEach(function(b,a){isHidden(b)||(adsbygoogle=window.adsbygoogle||[]).push({})});document.querySelectorAll("#sidebar-main .tabnav li").forEach(function(a){a.addEventListener("click",switchTab,!0)})});document.addEventListener("click",function(a){var b=a.target;if("comment-reply-link"==b.className)a.stopPropagation(),a.preventDefault(),addComment.moveForm("comment-"+b.dataset.commentid,b.dataset.commentid,"respond",b.dataset.postid);else if("backtop"==b.className)a.stopPropagation(),a.preventDefault(),document.scrollingElement.scroll({top:0,left:0,behavior:"smooth"});else if("comment-tab"==b.className)a.stopPropagation(),a.preventDefault(),a=b.nextElementSibling||b.previousElementSibling,b.classList.add("selected"),a.classList.remove("selected");else if("toggle-author"==b.id){a=document.querySelector(".comment-form-author");var c=document.querySelector(".comment-form-email"),d=document.querySelector(".comment-form-url"),e=document.getElementById("author").value,f=document.getElementById("welcome-login").querySelector("strong");isHidden(a)?(b.innerText="\u9690\u85cf",a.classList.remove("hide"),c.classList.remove("hide"),d.classList.remove("hide")):(b.innerText="\u66f4\u6539",a.classList.add("hide"),c.classList.add("hide"),d.classList.add("hide"),f.innerText=e)}});